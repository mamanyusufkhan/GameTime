<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GameTime: Create an Account</title>
    <link rel = "stylesheet" href="Sign-Up-CSS.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://use.fontawesome.com/be05e04130.js"></script>
    <script src="https://kit.fontawesome.com/yourcode.js" crossorigin="anonymous"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
</head>


<body class = "background-signup">
    <nav class = "navbar bg-dark navbar-expand-xl sticky-top">

        <ul class="navbar-nav">
          <li class = "nav-item">
            <a href="../Home/index.html" class="navbar-brand"><img src="logo.png" alt="Homepage" width="100" height="100"></a>
          </li>
          <li class = "nav-item">
            <a class="nav-link" href="../Home/index.html">Home</a>
          </li>
          <li class = "nav-item">
            <a class="nav-link" href="../Fixtures/Fixtures.html">Fixtures</a>
          </li>
          <li class = "nav-item">
            <a class="nav-link" href="../Standings/Standings.html">Standings</a>
          </li>
          <li class = "nav-item">
            <a class="nav-link" href="../Leaderboard/Leaderboard.html">Leaderboard</a>
          </li>
          <li class = "nav-item">
            <a class="nav-link" href="../News/News.html">News</a>
          </li>
          <li class = "nav-item">
            <a class="nav-link" href="../About Us/About-Us.html">About Us</a>
          </li>
        </ul>
      </nav>

      

      <div class="center">
        <div style="margin-top: 50px; margin-bottom: 50px;"><h1 style="text-align:center; color: white; font-size: 50px;">Create Your Account</h1></div>
        <div class="regform ">
        <form class ='Sign-up' >
                  <table>
                   <tr><td><p class="form-elements">First Name: </p></td><td><p class= "inputs"><input type = "text" name="" placeholder="Enter First Name" id="firstname" style="margin-left: 40px; margin-right: auto;"></p></td></tr>
                   <tr><td><p class="form-elements">Last Name: </p></td><td><p class="inputs"><input type = "text" name="" placeholder="Enter Last Name" id="lastname" style="margin-left: 40px; margin-right: auto;"></p></td></tr>
                   <tr><td><p class="form-elements">Email: </p></td><td><p class="inputs"><input type = "email" name="" placeholder="Enter Email" id="email" style="margin-left: 40px; margin-right: auto;"></p></td></tr>
                   <tr><td><p class="form-elements">Date of Birth: </p></td><td><p class="inputs"><input type = "date" name="" placeholder="Enter Date Of Birth" id="date" style="margin-left: 40px; margin-right: auto;"></p></td></tr>
                    <tr><td><p class="form-elements">Password: </p></td><td><p class="inputs"><input type = "password" name="" placeholder="Enter Password" style="margin-left: 40px; margin-right: auto;"></p></td></tr>
                    <tr><td><p class="form-elements">Re-Confirm Password: </p></td><td><p class="inputs"><input type = "password" name="" placeholder="Enter Password" style="margin-left: 40px; margin-right: auto;"><input type = "submit" name="" value="Sign Up" id="submit" class="signup-button"></p></tr>
                   
                   
                   
                   
                   </table>
                   <div style = "margin-left: 200px; margin-top: 50px;">
                   <a href="../Login/Login.html" class = "action-links">Back to Login Page</a>
                   </div>

        </form>
    </div>

      <script language="javascript">
          const SignupForm = document.getElementById("Sign-up");
          const SignupButton = document.getElementById("signup-button");
        

      SignupButton.addEventListener("click", (e) => {
         e.preventDefault();
         const first_name = getElementById("firstname");
         const last_name = getElementByID("lastname");
         const email = getElementByID("email");
         const DOB = getElementByID("date")
         const name = first_name + " " + last_name;

         const mysql = require('mysql');
        const express = require('express');
        //const bodyParser = require("body-parser");

        //var app = express();
        //const port = process.send.Port || 3000

        //app.use(bodyParser.urlencoded({extended : false}))


        //app.use(bodyParser.json);

        //MySQL

        //Listen on environment or 3000

        const db = mysql.createConnection({
            host : 'localhost',
            user : 'root',
            password : '',
            database : 'GameTime'
        })

        db.connect((err) =>{
            if(err){
                throw err
            }
            console.log('MySQL Connected');
        })

        const app = express()

        //Create DataBase

        app.get('//createdb', (req, res)=>{
            let sql = "CREATE DATABASE GameTime";
            db.query(sql, (err)=> {
                if(err){
                    throw err;
                }
                res.send('Database Created.');
            })
        })

        app.listen('3000', ()=>{
            console.log(req);
            console.log('Server Started on port 3000');
        })

        app.get('/createUser', (req, res)=>{
            let sql = "CREATE TABLE User(id INT AUTO_INCREMENT, name VARCHAR(300), email VARCHAR(300), DOB date, PRIMARY KEY(id))"
            db.query(sql, err => {
                if(err){
                    throw err
                }
                res.send("User Table Created.")
            }) 
            })

        //Insert Employee

        app.get('user1',(req,res)=>{
            let post = {name : name, email :email, date : DOB}
            let sql = 'INSERT INTO User SET ?'
            let query = db.query(sql, post, err =>{
                if(err){
                    throw err
                }
                res.send('User added')
            })
        })

    if (username === "user" && password === "web_dev") {
        alert("You have successfully logged in.");
        location.reload();
    } else {
        loginErrorMsg.style.opacity = 1;
    }
})
      </script>
      </div>
      
</body>
